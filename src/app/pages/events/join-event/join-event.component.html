<div class="container mt-5" *ngIf="event">
  <h2>Inscription au tournoi</h2>

  <div class="card my-4 shadow-sm">
    <div class="card-body">
      <h4 class="card-title">{{ event.label }}</h4>
      <p class="card-text">
        📍 {{ event.address.city }}, {{ event.address.country }}<br />
        📅 {{ event.date | date : "longDate" }}<br />
        👥 Participants inscrits : {{ event.participants?.length || 0 }} /
        {{ event.maxParticipants }}<br />
        🧑‍🤝‍🧑 Catégorie : {{ event.gender === "man" ? "Hommes" : "Femmes" }}
      </p>

      <button
        *ngIf="!alreadyRegistered"
        class="btn btn-success"
        (click)="join()"
      >
        M'inscrire au tournoi
      </button>

      <div *ngIf="alreadyRegistered" class="alert alert-info mt-3">
        ✅ Vous êtes déjà inscrit à ce tournoi.
      </div>
    </div>
  </div>
</div>

<div class="alert alert-warning mt-5" *ngIf="userRole !== 'user'">
  🚫 Seuls les joueurs peuvent s’inscrire à un tournoi.
</div>

<div *ngIf="registrationError" class="alert alert-danger">
  {{ registrationError }}
</div>
